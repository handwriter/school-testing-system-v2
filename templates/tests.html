{% extends 'base_page.html' %}

{% block scripts %}
<script>LoadUserData();</script>
{% endblock %}

{% block mainAdditionalStyles %}display: flex;flex-direction: column;{% endblock %}

{% block main_content %}
    <h2>Тесты</h2>
    {% if user_config['teacher'] %}
    <div class="btn-list">
        <a href="/new_test"> <button class="vert-btn red-btn"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 455 455" style="enable-background:new 0 0 455 455" xml:space="preserve"><path d="M455 213H243V0h-30v213H0v30h213v212h30V243h212z"/></svg>Создать новый тест</button></a>
        {% for plt in platforms %}
        <a href="/import_test/{{ plt }}"> <button class="vert-btn red-btn"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m13 14.3 2.1-2.2a.5.5 0 0 1 .8.8l-3 3c-.2.1-.6.1-.8 0l-3-3a.5.5 0 0 1 .8-.8l2.1 2.2V3.5a.5.5 0 1 1 1 0v10.8ZM18.5 6a.5.5 0 1 1 0-1h1C20.9 5 22 6.1 22 7.5v10c0 1.4-1.1 2.5-2.5 2.5h-14A2.5 2.5 0 0 1 3 17.5v-10C3 6.1 4.1 5 5.5 5h1a.5.5 0 0 1 0 1h-1C4.7 6 4 6.7 4 7.5v10c0 .8.7 1.5 1.5 1.5h14c.8 0 1.5-.7 1.5-1.5v-10c0-.8-.7-1.5-1.5-1.5h-1Z"/></svg>Импортировать тест {{ platforms[plt] }}</button></a>
        {% endfor %}
        {% for file in files %}
        <a href="/new_test?open={{ file }}"> <button class="vert-btn"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 194.4 194.4" style="enable-background:new 0 0 194.436 194.436" xml:space="preserve"><path d="M192 35 160 2a8 8 0 0 0-11 0l-32 33-62 62-2 5-1 33a8 8 0 0 0 7 8l34-1 5-2 94-95c3-3 3-8 0-10zm-37 27-22-22 22-22 21 22-21 22zm-66 65-22 1 1-23 54-55 22 22-55 55z"/><path d="M132 117c-4 0-7 3-7 8v54H15V70h55a7 7 0 1 0 0-15H8c-5 0-8 3-8 7v125c0 4 3 7 8 7h124c4 0 8-3 8-7v-62c0-5-4-8-8-8z"/></svg>{{ file }}</button></a>
        {% endfor %}
    </div>
    {% else %}
        {% if active_test_data %}
            {% if active_test_data["status"] %}
                <a href="/test/0?open={{ active_test_data["filename"] }}"> <button class="vert-btn"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 194.4 194.4" style="enable-background:new 0 0 194.436 194.436" xml:space="preserve"><path d="M192 35 160 2a8 8 0 0 0-11 0l-32 33-62 62-2 5-1 33a8 8 0 0 0 7 8l34-1 5-2 94-95c3-3 3-8 0-10zm-37 27-22-22 22-22 21 22-21 22zm-66 65-22 1 1-23 54-55 22 22-55 55z"/><path d="M132 117c-4 0-7 3-7 8v54H15V70h55a7 7 0 1 0 0-15H8c-5 0-8 3-8 7v125c0 4 3 7 8 7h124c4 0 8-3 8-7v-62c0-5-4-8-8-8z"/></svg>{{ active_test_data["filename"] }}</button></a>
            {% else %}
                <h2>Нет активных тестов</h2>
            {% endif %}
        {% else %}
            <h2>Нет активных тестов</h2>
        {% endif %}
    {% endif %}
{% endblock %}